<!DOCTYPE html>

<html>
<head>
<title>Probando canvas</title>
<script>
window.onload = function(){
//Recibimos el elemento canvas
var elemento = document.getElementById('micanvas');
//Comprobación sobre si encontramos un elemento
//y podemos extraer su contexto con getContext(), que indica compatibilidad con canvas
if (elemento && elemento.getContext) {
//Accedo al contexto de '2d' de este canvas, necesario para dibujar
var contexto = elemento.getContext('2d');
if (contexto) {
//Si tengo el contexto 2d es que todo ha ido bien y puedo empezar a dibujar en el canvas
//Comienzo dibujando un rectángulo
contexto.fillRect(0, 0, 320, 320);
//cambio el color de estilo de dibujo a rojo
contexto.fillStyle = '#f0f0f0';
//dibujo otro rectángulo
contexto.fillRect(10, 10, 300, 300);

var OX=160, OY=160;

// eje z
contexto.strokeStyle = '#0000cc';
contexto.beginPath();
contexto.moveTo(OX,OY-10);
contexto.lineTo(OX,OY-60);
contexto.stroke();

// eje y
contexto.strokeStyle = '#00cc00';
contexto.beginPath();
contexto.moveTo(OX-10,OY+10);
contexto.lineTo(OX-60,OY+40);
contexto.stroke();

// eje x
contexto.strokeStyle = '#cc0000';
contexto.beginPath();
contexto.moveTo(OX+10,OY+10);
contexto.lineTo(OX+60,OY+40);
contexto.stroke();

}
}
elemento.onmousemove = function (e) { 
   var x = e.pageX - this.offsetLeft;
    var y = e.pageY - this.offsetTop;
 
   var div = document.getElementById("coords");
 div.innerHTML = "x: " + x + " y: " + y; 

}
var contador=0;

 elemento.onmousedown = function (e) {
    contador=contador+1;
	elemento.Btn = true;
	var div = document.getElementById("estadoBtn");
	div.innerHTML = "Btn: " + elemento.Btn+ "contador: " + contador; 
 };
 elemento.onmouseup = function (e) {
    contador=contador-1;
	elemento.Btn = false;
	var div = document.getElementById("estadoBtn");
	div.innerHTML = "Btn: " + elemento.Btn+ "contador: " + contador; 
 }; 

}

/*
*
* CODIGO DETECCION RATON Y PULSACION BOTONES
*

 canvas.onmousemove = function (e) { 
   var x = e.pageX - this.offsetLeft;
    var y = e.pageY - this.offsetTop;
 
   var div = document.getElementById("coords");
    div.innerHTML = "x: " + x + " y: " + y; 
}; 

En este código he asociado un evento para capturar el movimiento del cursor, de modo que cuando se mueve, sus coordenadas horizontal y vertical se muestran en la página. Sencillo y limpio. Para conseguir algo más avanzado, he intentado convertir al canvas en algo parecido a un trozo de papel o una pizarra, en donde se pueda dibujar. Bueno, el código para esto no es demasiado complicado, lo pongo aquí completo:
 
var canvas = document.getElementById("myCanvas");
 var context = canvas.getContext("2d");

 context.fillCircle = function (x, y, radius, fillColor) {
    this.fillStyle = fillColor;
 this.beginPath();
 this.moveTo(x, y);
 this.arc(x, y, radius, 0, Math.PI * 2, false);
 this.fill();
 };
 
context.clearTo = function (fillColor) {
    context.fillStyle = fillColor;
    context.fillRect(0, 0, canvas.width, canvas.height);
 };

 context.clearTo("#ddd");
 canvas.onmousemove = function (e) {
    if (!canvas.isDrawing) return;
 var x = e.pageX - this.offsetLeft;
 var y = e.pageY - this.offsetTop;
 
var div = document.getElementById("coords");
 div.innerHTML = "x: " + x + " y: " + y;
 var radius = 10;
 var fillColor = '#ff0000';
 context.fillCircle(x, y, radius, fillColor);
 };
 canvas.onmousedown = function (e) {
    canvas.isDrawing = true;
 };
 canvas.onmouseup = function (e) {
    canvas.isDrawing = false;
 }; 

*/







</script>
</head>
<body>
<canvas id="micanvas" width="350" height="350">
Este texto se muestra para los navegadores no compatibles con canvas.
<br>
Por favor, utiliza Firefox, Chrome, Safari u Opera.
</canvas>
<br>
DEBAJO VIENE EL SLIDER:
<BR>
<input type="range">
<br>
debajo viene las coordenadas:
<br>
<div id="coords"></div>
<div id="estadoBtn"></div>

</body>
</html>
